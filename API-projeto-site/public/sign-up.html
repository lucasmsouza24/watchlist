<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watchlist! - Login!</title>
    <link rel="shortcut icon" href="./img/logo-watchlist.png" />
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/main-menu.css">
    <link rel="stylesheet" href="./css/box.css">
    <script src="./js/login-auth.js"></script>
</head>
<body style="background-image: url('./img/sign-up-background3.jpg'); background-repeat: no-repeat; background-size: cover;">

    <!-- start menu -->
    <header class="main-menu-box" id="idMenuBox">
        
    </header>
    <!-- end menu -->

    <!-- input box -->
    <div class="login-box center" id="idLoginBox">
        <form class="box-container st center-column-child" onsubmit="cadastrar()">
            
            <input id="idNick" placeholder="Apelido" class="login-box-input" type="text" required>
            <input id="idEmail" placeholder="E-mail" class="login-box-input" type="email" required> 
            <input id="idPwd" placeholder="Senha" class="login-box-input" type="password" minlength="6" required> 

            <input type="button" onclick="cadastrar()" class="login-box-button" value="Cadastrar"></input> 

        </form>
    </div>
    <!-- end input box -->

</body>
</html>
<script src="./js/build-menu.js"></script>
<script>

    function cadastrar() {
        const email = idEmail.value;
        const pwd = idPwd.value;
        const nick = idNick.value;

        fetch(`/users/cadastrar?email=${email}&nick=${nick}&pwd=${pwd}`, {
            method: "GET",
        }).then(resposta => {
            
            if(resposta.ok) {
                console.log("ok");
            } else {
                console.log("erro de cadastro");
            }
        });
    }   

</script>